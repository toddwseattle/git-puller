<div *ngIf="auth.user | async; then authenticated else guest">
  <!-- template will replace this div -->
</div>
<ng-template #guest>
  <h3>Howdy, GUEST</h3>
  <p>Login to get started...</p>
</ng-template>
<!-- User logged in -->
<ng-template #authenticated>
  <div *ngIf="auth.user | async as user">
    <mat-card>
    <mat-card-header>
      <mat-card-title>{{ user.displayName }}</mat-card-title>
      <mat-card-subtitle><a [href]="user.ghUser.html_url">{{user.ghUser.login}}</a></mat-card-subtitle>
    </mat-card-header>
      <p>email: {{user.email}}</p>
      <button mat-raised-button (click)="getRepos()">Get Repos</button>
      <button mat-raised-button (click)="auth.signOut()">Logout</button>
      <ul *ngIf="(auth.user)">
        <li *ngFor="let o of (getOrgs$() | async)">{{o.login}}: {{o.description}}</li>
      </ul>
      <p *ngIf="(repos$ | async)">Repositories: {{(repos$ | async)?.length}}</p>
      <ul>
          <li *ngFor="let r of (repos$ | async)">{{r.owner.login}} : {{r.name}}: {{r.description}}</li>
        </ul>
    </mat-card>
  </div>  
    
</ng-template>

